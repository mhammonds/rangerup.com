<div class="mfd-featured">
  <div class="mfd-featured__container">
    <h2 class="mfd-featured__heading">Mandatory Funday Hoodies</h2>
    <div class="mfd-featured__buttons">
      <button class="mfd-featured__btn mfd-featured__btn--active" data-filter="all">All</button>
      <button class="mfd-featured__btn" data-filter="men">Men's</button>
      <button class="mfd-featured__btn" data-filter="women">Women's</button>
    </div>
    
    <div class="mfd-featured__carousel-wrapper">
      <button class="mfd-featured__arrow mfd-featured__arrow--left" aria-label="Previous">‹</button>
      <div class="mfd-featured__carousel">
        {% for product in collection.products %}
          {% if product.tags contains 'mfdhoodie' %}
            {% assign is_mens = false %}
            {% assign is_womens = false %}
            
            {% if product.tags contains 'mfdmen' %}
              {% assign is_mens = true %}
            {% endif %}
            
            {% if product.tags contains 'mfdwomen' %}
              {% assign is_womens = true %}
            {% endif %}
            
            <div class="mfd-featured__card" 
                 data-men="{{ is_mens }}" 
                 data-women="{{ is_womens }}">
              <a href="{{ product.url }}" class="mfd-featured__link">
                <div class="mfd-featured__image">
                  {% if product.featured_image %}
                    <img src="{{ product.featured_image | img_url: '400x' }}" alt="{{ product.title }}" loading="lazy">
                  {% endif %}
                </div>
                <h3 class="mfd-featured__title">{{ product.title }}</h3>
                <p class="mfd-featured__price">{{ product.price | money }}</p>
              </a>
            </div>
          {% endif %}
        {% endfor %}
      </div>
      <button class="mfd-featured__arrow mfd-featured__arrow--right" aria-label="Next">›</button>
    </div>
  </div>
</div>

<style>
.mfd-featured {
  background: #f5f5f5;
  padding: 40px 20px;
  border-bottom: 2px solid #e0e0e0;
}

.mfd-featured__container {
  max-width: 1400px;
  margin: 0 auto;
}

.mfd-featured__heading {
  font-size: 32px;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin: 0 0 20px 0;
  color: #000;
  text-align: center;
}

.mfd-featured__buttons {
  display: flex;
  gap: 12px;
  justify-content: center;
  flex-wrap: wrap;
  margin-bottom: 30px;
}

.mfd-featured__btn {
  background: #fff;
  border: 2px solid #000;
  color: #000;
  padding: 10px 24px;
  font-size: 14px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  cursor: pointer;
  transition: all 0.3s ease;
  font-family: inherit;
}

.mfd-featured__btn:hover {
  background: #000;
  color: #fff;
}

.mfd-featured__btn--active {
  background: #F0A202;
  border-color: #F0A202;
  color: #000;
}

.mfd-featured__carousel-wrapper {
  position: relative;
  padding: 0 60px;
}

.mfd-featured__carousel {
  display: flex;
  gap: 20px;
  overflow-x: auto;
  scroll-behavior: smooth;
  padding: 10px 0 20px;
  scrollbar-width: thin;
  scrollbar-color: #F0A202 #ddd;
}

.mfd-featured__carousel::-webkit-scrollbar {
  height: 8px;
}

.mfd-featured__carousel::-webkit-scrollbar-track {
  background: #ddd;
  border-radius: 4px;
}

.mfd-featured__carousel::-webkit-scrollbar-thumb {
  background: #F0A202;
  border-radius: 4px;
}

.mfd-featured__card {
  flex: 0 0 280px;
  background: #fff;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.mfd-featured__card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 16px rgba(0,0,0,0.2);
}

.mfd-featured__link {
  text-decoration: none;
  color: inherit;
  display: block;
}

.mfd-featured__image {
  width: 100%;
  padding-top: 100%;
  position: relative;
  background: #f0f0f0;
  overflow: hidden;
}

.mfd-featured__image img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.mfd-featured__title {
  font-size: 14px;
  font-weight: 700;
  margin: 12px;
  color: #000;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.mfd-featured__price {
  font-size: 16px;
  font-weight: 900;
  margin: 0 12px 12px;
  color: #000;
}

.mfd-featured__arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 50px;
  height: 50px;
  background: #000;
  color: #fff;
  border: 2px solid #F0A202;
  border-radius: 50%;
  font-size: 32px;
  cursor: pointer;
  z-index: 10;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
}

.mfd-featured__arrow:hover {
  background: #F0A202;
  color: #000;
}

.mfd-featured__arrow--left {
  left: 0;
}

.mfd-featured__arrow--right {
  right: 0;
}

@media (max-width: 749px) {
  .mfd-featured {
    padding: 30px 10px;
  }
  
  .mfd-featured__heading {
    font-size: 24px;
  }
  
  .mfd-featured__carousel-wrapper {
    padding: 0 40px;
  }
  
  .mfd-featured__card {
    flex: 0 0 220px;
  }
  
  .mfd-featured__arrow {
    width: 40px;
    height: 40px;
    font-size: 24px;
  }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const carousel = document.querySelector('.mfd-featured__carousel');
  const leftArrow = document.querySelector('.mfd-featured__arrow--left');
  const rightArrow = document.querySelector('.mfd-featured__arrow--right');
  const filterButtons = document.querySelectorAll('.mfd-featured__btn');
  
  // Arrow navigation
  leftArrow.addEventListener('click', function() {
    carousel.scrollBy({ left: -320, behavior: 'smooth' });
  });
  
  rightArrow.addEventListener('click', function() {
    carousel.scrollBy({ left: 320, behavior: 'smooth' });
  });
  
  // Filter functionality
  filterButtons.forEach(button => {
    button.addEventListener('click', function() {
      filterButtons.forEach(btn => btn.classList.remove('mfd-featured__btn--active'));
      this.classList.add('mfd-featured__btn--active');
      
      const filter = this.getAttribute('data-filter');
      const cards = document.querySelectorAll('.mfd-featured__card');
      
      cards.forEach(card => {
        const isMens = card.getAttribute('data-men') === 'true';
        const isWomens = card.getAttribute('data-women') === 'true';
        
        if (filter === 'all') {
          card.style.display = '';
        } else if (filter === 'men' && isMens) {
          card.style.display = '';
        } else if (filter === 'women' && isWomens) {
          card.style.display = '';
        } else {
          card.style.display = 'none';
        }
      });
      
      // Scroll to start when filtering
      carousel.scrollTo({ left: 0, behavior: 'smooth' });
    });
  });
});
</script>

{% schema %}
{
  "name": "MFD Featured Hoodies",
  "settings": []
}
{% endschema %}
